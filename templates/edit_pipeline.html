{% extends 'index.html' %}
{% load static %}

{% block title %}
<title>Edit pipeline</title>
{% endblock title %}

{% block content %}

<div class="container-fluid" id="edit-container">
    <div class="container d-flex align-items-center" style="height: 80vh;">
        
        <form action="" method="POST" id="edit_form" class="small_view">
            {% if pipeline.status == 'complete' or pipeline.status == 'pending' or pipeline.status == 'saved' %}
            <h3>You cannot edit this pipeline unless the status is Active.</h3>
            <a href="{% url 'detail_view' pipeline.id %}"><button class="btn btn-dark btn-lg"><i
                class="fas fa-arrow-left"></i>Back</button></a>
            {% else %}
            {% csrf_token%}
            <h2>Edit &nbsp; <strong>{{pipeline.pipeline_name}}</strong></h2>
            <p>Use this form to edit the following details for your pipeline.</p>
            <p><small>As pipelines have very specific technical parameters, only the following fields can be edited.<br>
            For choosing a new AOI, interval set up, or output image, please <a href="{% url 'create' %}">create a new pipeline</a>.</small></p>

            <div class="input-sections">
                <label for="pipeline_name" class="form-label">Name</label>
                {{form.pipeline_name}}
            </div>

            <div class="input-sections">
                <label for="pipeline_name" class="form-label">Description</label>
                {{form.pipeline_des}}
            </div>

            <div class="pt-5 d-flex justify-content-evenly">
                    <a href="{% url 'detail_view' pipeline.id %}"><button class="btn btn-dark btn-lg"><i
                        class="fas fa-arrow-left"></i>Back</button></a>
                    <a><button type="submit" class="btn btn-dark btn-lg"><i class="far fa-save"></i>Save</button></a>
            </div>
        
        </form>
        {% endif %}
    </div>
</div>

{% endblock content %}